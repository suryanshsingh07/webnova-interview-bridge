import{c as C,r as m,a as I,j as e,X as L,b as v}from"./index-BTxu30yM.js";import{s as E,S as P,m as A,B as _}from"./client-B2Qnqt8j.js";import{I as k}from"./input-sGDYik-K.js";import{L as N}from"./label--wcn3oxu.js";import{E as O}from"./eye-K3sdxzjW.js";import{C as W}from"./check-BUHeNsUR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=C("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var U="authorization_response",B="/~oauth/initiate",T=["https://oauth.lovable.app"];function F(t){let a;const n=new Promise(l=>{a=l}),o=l=>{if(!t.some(x=>l.origin===x))return;const d=l.data;!d||typeof d!="object"||d.type===U&&a(d.response)},s=()=>{window.removeEventListener("message",o)};return window.addEventListener("message",o),{cleanup:s,messagePromise:n}}function R(t){const a=window.screenX!==0||window.screenY!==0||!t,n=a?window.outerWidth*.5:window.screen.width*.5,o=a?window.outerHeight*.5:window.screen.height*.5,s=a?window.screenX+(window.outerWidth-n)/2:(window.screen.width-n)/2,l=a?window.screenY+(window.outerHeight-o)/2:(window.screen.height-o)/2;return{width:n,height:o,left:s,top:l}}function H(){return typeof crypto<"u"&&crypto.getRandomValues?[...crypto.getRandomValues(new Uint8Array(16))].map(t=>t.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).substring(2)+Date.now().toString(36)}function $(t={}){const a=t.oauthBrokerUrl??B,n=t.supportedOAuthOrigins??T;async function o(s,l={}){let h=!1;try{h=window.self!==window.top}catch{h=!0}const d=H(),x=l.redirect_uri??window.location.origin,f=new URLSearchParams({provider:s,redirect_uri:x,state:d,...l.extraParams});if(!h)return window.location.href=`${a}?${f.toString()}`,{error:null,redirected:!0};f.set("response_mode","web_message");const p=`${a}?${f.toString()}`,{messagePromise:y,cleanup:w}=F(n),j=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let u;if(j)u=window.open(p,"_blank");else{const{width:i,height:b,left:r,top:c}=R(h);u=window.open(p,"oauth",`width=${i},height=${b},left=${r},top=${c}`)}if(!u)return w(),{error:new Error("Popup was blocked")};let g;const S=new Promise((i,b)=>{g=setInterval(()=>{u.closed&&(clearInterval(g),b(new Error("Sign in was cancelled")))},500)});try{const i=await Promise.race([y,S]);return i.error?i.error==="legacy_flow"?{error:new Error("This flow is not supported in Preview mode. Please open the app in a new tab to sign in.")}:{error:new Error(i.error_description??"Sign in failed")}:i.state!==d?{error:new Error("State is invalid")}:!i.access_token||!i.refresh_token?{error:new Error("No tokens received")}:{tokens:{access_token:i.access_token,refresh_token:i.refresh_token},error:null}}catch(i){return{error:i instanceof Error?i:new Error(String(i))}}finally{clearInterval(g),w(),u==null||u.close()}}return{signInWithOAuth:o}}function D(t={}){return $(t)}const G=D(),z={auth:{signInWithOAuth:async(t,a)=>{const n=await G.signInWithOAuth(t,{redirect_uri:a==null?void 0:a.redirect_uri,extraParams:{...a==null?void 0:a.extraParams}});if(n.redirected||n.error)return n;try{await E.auth.setSession(n.tokens)}catch(o){return{error:o instanceof Error?o:new Error(String(o))}}return n}}},Q=()=>{const[t,a]=m.useState(!0),[n,o]=m.useState(""),[s,l]=m.useState(""),[h,d]=m.useState(""),[x,f]=m.useState(!1),[p,y]=m.useState(!1),[w,j]=m.useState(!1),u=I(),g=m.useMemo(()=>{if(!s)return{score:0,label:""};let r=0;return s.length>=6&&r++,s.length>=8&&r++,/[A-Z]/.test(s)&&r++,/[0-9]/.test(s)&&r++,/[^A-Za-z0-9]/.test(s)&&r++,{score:r,label:["","Weak","Fair","Good","Strong","Excellent"][r]}},[s]),S=["","bg-destructive","bg-warning","bg-warning","bg-success","bg-success"],i=async r=>{r.preventDefault(),y(!0);try{if(t){const{error:c}=await E.auth.signInWithPassword({email:n,password:s});if(c)throw c;v.success("Welcome back! ðŸŽ‰"),u("/dashboard")}else{const{error:c}=await E.auth.signUp({email:n,password:s,options:{data:{full_name:h},emailRedirectTo:window.location.origin}});if(c)throw c;v.success("Account created! Check your email to verify. ðŸš€")}}catch(c){v.error(c.message||"Something went wrong")}finally{y(!1)}},b=async()=>{j(!0);try{const{error:r}=await z.auth.signInWithOAuth("google",{redirect_uri:window.location.origin});if(r)throw r}catch(r){v.error(r.message||"Google sign-in failed")}finally{j(!1)}};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-hero relative items-center justify-center p-12 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(255,255,255,0.15),transparent_60%)]"}),e.jsxs("div",{className:"absolute top-6 left-8 flex items-center gap-2 text-primary-foreground font-display font-bold text-lg",children:[e.jsx(P,{className:"h-5 w-5"}),"Interview Bridge"]}),e.jsxs(A.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative text-center text-primary-foreground max-w-md",children:[e.jsx("div",{className:"w-32 h-32 mx-auto mb-8 rounded-3xl bg-primary-foreground/10 backdrop-blur-sm flex items-center justify-center border border-primary-foreground/20",children:e.jsxs("svg",{className:"w-20 h-20",viewBox:"0 0 80 80",fill:"none",children:[e.jsx("circle",{cx:"40",cy:"40",r:"28",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"}),e.jsx("circle",{cx:"40",cy:"40",r:"18",stroke:"currentColor",strokeWidth:"2",opacity:"0.5"}),e.jsx("rect",{x:"36",y:"20",width:"8",height:"30",rx:"4",fill:"currentColor",opacity:"0.8"}),e.jsx("path",{d:"M30 52 Q40 62 50 52",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.6"}),e.jsx("circle",{cx:"40",cy:"68",r:"3",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"38",y:"60",width:"4",height:"8",fill:"currentColor",opacity:"0.4"})]})}),e.jsxs("h2",{className:"text-3xl font-display font-bold mb-4",children:["Turn Your Thoughts into",e.jsx("br",{}),"Confident English"]}),e.jsx("p",{className:"text-primary-foreground/70 leading-relaxed",children:"Practice mock interviews with AI, get grammar coaching in Hindi & English, and build the confidence to ace any MNC interview."}),e.jsxs("div",{className:"mt-10 flex items-center justify-center gap-6 text-primary-foreground/50 text-xs",children:[e.jsx("span",{children:"ðŸ”’ Secure & Private"}),e.jsx("span",{children:"ðŸ¤– AI Powered"}),e.jsx("span",{children:"ðŸ‡®ðŸ‡³ Hindi Support"})]})]}),e.jsx("div",{className:"absolute -bottom-20 -right-20 w-80 h-80 bg-primary-foreground/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center bg-background px-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-72 h-72 bg-accent/10 rounded-full blur-3xl"}),e.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md relative",children:[e.jsxs("div",{className:"rounded-2xl bg-card shadow-card border border-border/50 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"lg:hidden flex justify-center mb-4",children:e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-hero flex items-center justify-center",children:e.jsx(P,{className:"h-7 w-7 text-primary-foreground"})})}),e.jsx("h1",{className:"text-2xl font-display font-bold",children:t?"Welcome Back!":"Create Your Account"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:t?"Sign in to continue your practice":"Start building your interview confidence today"})]}),e.jsxs(_,{variant:"outline",className:"w-full py-5 rounded-xl mb-4",onClick:b,disabled:w,children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),w?"Connecting...":"Continue with Google"]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or continue with email"})})]}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[!t&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(N,{htmlFor:"name",children:"Full Name"}),e.jsx(k,{id:"name",placeholder:"Your name",value:h,onChange:r=>d(r.target.value),required:!0,className:"rounded-xl h-11 transition-all focus:shadow-soft"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(k,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:r=>o(r.target.value),required:!0,className:"rounded-xl h-11 transition-all focus:shadow-soft"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(N,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{id:"password",type:x?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s,onChange:r=>l(r.target.value),required:!0,minLength:6,className:"rounded-xl h-11 pr-10 transition-all focus:shadow-soft"}),e.jsx("button",{type:"button",onClick:()=>f(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:x?e.jsx(M,{className:"h-4 w-4"}):e.jsx(O,{className:"h-4 w-4"})})]}),!t&&s&&e.jsxs("div",{className:"space-y-1.5 mt-2",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${r<=g.score?S[g.score]:"bg-muted"}`},r))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g.label}),e.jsx("div",{className:"space-y-0.5 text-xs",children:[{test:s.length>=8,label:"8+ characters"},{test:/[A-Z]/.test(s),label:"Uppercase letter"},{test:/[0-9]/.test(s),label:"Number"}].map(r=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[r.test?e.jsx(W,{className:"h-3 w-3 text-success"}):e.jsx(L,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:r.test?"text-success":"text-muted-foreground",children:r.label})]},r.label))})]})]}),!t&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(N,{children:"I am a"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl border-2 border-primary bg-primary/5 text-center cursor-pointer",children:e.jsx("span",{className:"text-sm font-medium",children:"ðŸŽ“ Student"})}),e.jsx("div",{className:"p-3 rounded-xl border border-border text-center cursor-pointer opacity-50",children:e.jsx("span",{className:"text-sm font-medium",children:"ðŸ›¡ï¸ Admin"})})]})]}),e.jsx(_,{type:"submit",className:"w-full py-5 rounded-xl bg-gradient-hero hover:opacity-90",disabled:p,children:p?"Please wait...":t?"Sign In":"Create Account"})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[t?"Don't have an account?":"Already have an account?"," ",e.jsx("button",{type:"button",className:"text-primary font-medium hover:underline",onClick:()=>a(!t),children:t?"Sign Up":"Sign In"})]})]}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-4",children:["Powered by ",e.jsx("span",{className:"font-semibold text-foreground",children:"WebNova"})]})]})]})]})};export{Q as default};
