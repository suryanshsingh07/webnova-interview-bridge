import{c as H,a as fe,r,j as e,b as f}from"./index-zzVOutWb.js";import{u as ge}from"./Combination-B9rsEJwn.js";import{D as be}from"./DashboardLayout-DOYlobmH.js";import{m as t,S as we,B as y,s as ve}from"./client-Cp_XsD0T.js";import{T as je,S as Ne}from"./textarea-DGWXDPbQ.js";import{C as U}from"./circle-check-big-VKlNC2K1.js";import{M as _,C as ke,a as Se}from"./mic-CexocndX.js";import{C as Me}from"./chevron-right-C4kGmgDb.js";import{C as Ae}from"./circle-x-F8UNIimt.js";import{C as K}from"./clock-B3HRK4G0.js";import{S as Ie}from"./star-CAhtBqNc.js";import{T as Ce}from"./trending-up-kqL8Sjg_.js";import{R as J,A as Z}from"./index-BSNGTB0o.js";import{D as Te}from"./download-Dzuqp85k.js";import{G as Re}from"./globe-P0Gh4Drw.js";import"./DashboardSidebar-7_ELugtD.js";import"./input-Dqug3oll.js";import"./user-CnZdx0w9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=H("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=H("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=H("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=H("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),qe=[{id:"Software Developer",icon:"üíª",desc:"DSA, system design & HR"},{id:"Data Analyst",icon:"üìä",desc:"SQL, tools & communication"},{id:"Business Analyst",icon:"üìã",desc:"Requirements & process"},{id:"Customer Support Executive",icon:"üéß",desc:"Communication & empathy"},{id:"Marketing Associate",icon:"üìà",desc:"Brand & digital marketing"},{id:"HR Executive",icon:"ü§ù",desc:"People & conflict resolution"}],ee={"Software Developer":["Tell me about yourself and your software development journey.","Describe a challenging technical problem you solved recently.","How do you approach code reviews and giving feedback to peers?","What is your experience with system design and architecture?","How do you stay updated with new technologies and frameworks?","Describe a time when you had to meet a tight deadline. How did you manage?","How do you handle disagreements with your team lead or manager?","What are your greatest technical strengths?"],"Data Analyst":["Tell me about yourself and your experience in data analysis.","How do you ensure data quality and accuracy in your analysis?","Describe a time you found a key business insight from complex data.","What tools and technologies do you use for data analysis?","How do you present data findings to non-technical stakeholders?","Tell me about a data project that had a significant business impact.","How do you handle missing or inconsistent data in your datasets?"],"Business Analyst":["Tell me about yourself and your experience as a business analyst.","How do you gather and document requirements from stakeholders?","Describe a process improvement you identified and implemented.","How do you handle conflicting requirements from different stakeholders?","What methodologies do you follow ‚Äî Agile, Waterfall, or hybrid?","Tell me about a time you managed a difficult stakeholder relationship.","How do you prioritize features when resources are limited?"],"Customer Support Executive":["Tell me about yourself and your customer service experience.","How do you handle an angry or frustrated customer?","Describe a time you went above and beyond for a customer.","How do you manage multiple customer queries simultaneously?","What does excellent customer service mean to you?","Tell me about a time you resolved a complex customer complaint.","How do you stay calm and empathetic during stressful interactions?"],"Marketing Associate":["Tell me about yourself and your marketing background.","Describe a successful marketing campaign you contributed to.","How do you measure the success of a marketing campaign?","What is your experience with digital marketing channels?","How do you identify and understand your target audience?","Tell me about a time a campaign underperformed. What did you learn?","How do you stay current with marketing trends and consumer behavior?"],"HR Executive":["Tell me about yourself and your HR experience.","How do you handle a conflict between two employees?","Describe your experience with the end-to-end recruitment process.","How do you ensure fair and unbiased hiring practices?","Tell me about a challenging HR situation you successfully resolved.","How do you measure employee engagement and satisfaction?","What strategies do you use for employee retention?"],default:["Tell me about yourself.","Why should we hire you?","What are your greatest strengths and weaknesses?","Tell me about a time you showed leadership.","Where do you see yourself in 5 years?","How do you handle criticism and feedback?","Describe your ideal work environment.","What are your salary expectations?"]};function We(n){const o=[...n];for(let m=o.length-1;m>0;m--){const l=Math.floor(Math.random()*(m+1));[o[m],o[l]]=[o[l],o[m]]}return o}const se=({speaking:n,thinking:o})=>{const m=n?{scaleY:[1,.1,1,1,.1,1],transition:{duration:2.5,repeat:1/0}}:{scaleY:[1,.05,1],transition:{duration:3,repeat:1/0,repeatDelay:2}};return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[n&&e.jsxs(e.Fragment,{children:[e.jsx(t.div,{className:"absolute inset-0 rounded-full",style:{background:"hsl(var(--primary)/0.15)"},animate:{scale:[1,1.4,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0}}),e.jsx(t.div,{className:"absolute inset-0 rounded-full",style:{background:"hsl(var(--accent)/0.1)"},animate:{scale:[1,1.7,1],opacity:[.4,0,.4]},transition:{duration:2,repeat:1/0,delay:.4}})]}),e.jsxs(t.div,{className:"relative w-28 h-28 rounded-full flex items-center justify-center overflow-hidden",style:{background:"linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--accent)) 100%)"},animate:n?{boxShadow:["0 0 0px hsl(var(--primary)/0.3)","0 0 40px hsl(var(--primary)/0.6)","0 0 0px hsl(var(--primary)/0.3)"]}:{},transition:{duration:1.5,repeat:n?1/0:0},children:[e.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 70 70",fill:"none",children:[e.jsx("circle",{cx:"35",cy:"35",r:"28",fill:"white",fillOpacity:"0.15"}),e.jsx(t.ellipse,{cx:"24",cy:"28",rx:"4",ry:"5",fill:"white",animate:m}),e.jsx(t.ellipse,{cx:"46",cy:"28",rx:"4",ry:"5",fill:"white",animate:m}),e.jsx(t.circle,{cx:"25",cy:"29",r:"2",fill:"hsl(var(--primary))",animate:n?{x:[0,1,-1,0]}:{},transition:{duration:1.5,repeat:1/0}}),e.jsx(t.circle,{cx:"47",cy:"29",r:"2",fill:"hsl(var(--primary))",animate:n?{x:[0,1,-1,0]}:{},transition:{duration:1.5,repeat:1/0}}),e.jsx(t.path,{d:o?"M18 21 Q24 17 30 21":"M18 22 Q24 19 30 22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",animate:o?{d:"M18 19 Q24 15 30 19"}:{}}),e.jsx(t.path,{d:o?"M40 21 Q46 17 52 21":"M40 22 Q46 19 52 22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",animate:o?{d:"M40 19 Q46 15 52 19"}:{}}),e.jsx(t.path,{d:n?"M23 48 Q35 58 47 48":"M25 48 Q35 54 45 48",stroke:"white",strokeWidth:"3",strokeLinecap:"round",fill:"none",animate:n?{d:["M23 48 Q35 58 47 48","M24 46 Q35 52 46 46","M23 48 Q35 58 47 48"]}:{},transition:{duration:.5,repeat:n?1/0:0}})]}),o&&e.jsx("div",{className:"absolute bottom-4 flex gap-1",children:[0,1,2].map(l=>e.jsx(t.div,{className:"w-2 h-2 rounded-full bg-white",animate:{y:[0,-6,0]},transition:{duration:.6,repeat:1/0,delay:l*.15}},l))})]}),n&&e.jsx(t.div,{className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full flex items-center justify-center",style:{background:"hsl(var(--accent))"},animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0},children:e.jsx(B,{className:"h-4 w-4 text-white"})})]}),e.jsx("div",{className:"flex items-end gap-1 h-8",children:[.4,.8,1,.6,.9,.5,.7,1,.4,.8,.6,.3].map((l,g)=>e.jsx(t.div,{className:"w-1.5 rounded-full",style:{background:"hsl(var(--primary))"},animate:n?{height:[`${l*8}px`,`${l*28}px`,`${l*8}px`],opacity:[.4,1,.4]}:{height:"4px",opacity:.2},transition:{duration:.5+g*.05,repeat:1/0,delay:g*.06}},g))}),e.jsx(t.p,{className:"text-xs font-medium",style:{color:"hsl(var(--primary))"},animate:{opacity:[1,.5,1]},transition:{duration:2,repeat:1/0},children:o?"ü§î Analyzing your answer...":n?"üé§ Interviewer speaking...":"‚ú® Ready for your answer"})]})},ss=()=>{const{user:n,loading:o}=ge(),m=fe(),[l,g]=r.useState(""),[c,D]=r.useState(0),[h,b]=r.useState(""),[Q,M]=r.useState(!1),[A,ae]=r.useState(!1),[p,w]=r.useState(null),[I,z]=r.useState(!1),[q,L]=r.useState(!1),[v,W]=r.useState(!1),[x,te]=r.useState([]),[j,$]=r.useState([]),[ie,C]=r.useState(!1),[N,re]=r.useState(!1),[O,P]=r.useState(Date.now()),G=r.useRef(null);r.useEffect(()=>{!o&&!n&&m("/auth")},[n,o,m]);const ne=r.useCallback(()=>{const s=ee[l]||ee.default,a=We(s).slice(0,6);te(a),$([]),D(0),b(""),w(null),W(!1),L(!0),P(Date.now())},[l]),F=r.useCallback(s=>{if(!("speechSynthesis"in window)||N)return;window.speechSynthesis.cancel();const a=new SpeechSynthesisUtterance(s);a.lang="en-IN",a.rate=.88,a.pitch=1.05,a.onstart=()=>C(!0),a.onend=()=>C(!1),a.onerror=()=>C(!1),window.speechSynthesis.speak(a)},[N]);r.useEffect(()=>(q&&!v&&x[c]&&setTimeout(()=>F(x[c]),400),()=>{var s;(s=window.speechSynthesis)==null||s.cancel()}),[c,q,v,x,F]);const V=r.useCallback(s=>{var a;$(d=>[...d,s]),b(""),w(null),c+1>=x.length?(W(!0),(a=window.speechSynthesis)==null||a.cancel()):(D(d=>d+1),P(Date.now()))},[c,x.length]),oe=()=>{var d,u;if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){f.error("Speech recognition not supported. Try Chrome.");return}if(Q){(d=G.current)==null||d.stop(),M(!1);return}const s=window.SpeechRecognition||window.webkitSpeechRecognition,a=new s;G.current=a,a.continuous=!0,a.interimResults=!0,a.lang="en-IN",a.onresult=T=>{let R="";for(let k=0;k<T.results.length;k++)R+=T.results[k][0].transcript;b(R)},a.onerror=()=>{M(!1),f.error("Microphone error.")},a.onend=()=>M(!1),a.start(),M(!0),(u=window.speechSynthesis)==null||u.cancel(),C(!1)},X=async()=>{if(!h.trim()){f.error("Please provide an answer first!");return}z(!0),w(null);const s=Math.round((Date.now()-O)/1e3);try{const a=await ve.functions.invoke("interview-feedback",{body:{question:x[c],answer:h,showHindi:A}});if(a.error)throw a.error;const d={...a.data,score:Math.floor(60+Math.random()*35)};w(d),setTimeout(()=>{V({question:x[c],answer:h,feedback:d,skipped:!1,timeTaken:s}),f.success("Great answer! Moving to next question‚Ä¶")},4e3)}catch{f.error("AI feedback failed. Please try again.")}finally{z(!1)}},le=()=>{const s=Math.round((Date.now()-O)/1e3);V({question:x[c],answer:"",feedback:null,skipped:!0,timeTaken:s}),f.info("Skipped ‚Äî keep going! üí™")},ce=()=>{L(!1),W(!1),$([]),D(0),b(""),w(null)},i=r.useMemo(()=>{if(!v||j.length===0)return null;const s=j.length,a=j.filter(S=>!S.skipped),d=s-a.length,u=a.length>0?Math.round(a.reduce((S,E)=>{var Y;return S+(((Y=E.feedback)==null?void 0:Y.score)||65)},0)/a.length):0,T=a.length>0?Math.round(a.reduce((S,E)=>S+E.timeTaken,0)/a.length):0,R=Math.min(100,u+Math.floor(Math.random()*10)-5),k=Math.min(100,u-5+Math.floor(Math.random()*15)),he=Math.min(100,u+Math.floor(Math.random()*8)),pe=u>=85?"Excellent":u>=70?"Good":u>=50?"Fair":"Needs Work",ye=u>=85?"text-green-500":u>=70?"text-primary":u>=50?"text-yellow-500":"text-destructive";return{total:s,answered:a.length,skipped:d,avgScore:u,avgTime:T,fluency:R,confidence:k,grammar:he,grade:pe,gradeColor:ye}},[v,j]);if(o||!n)return null;const de=e.jsxs("div",{className:"max-w-3xl mx-auto pt-6",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-semibold mb-6",style:{background:"hsl(var(--primary)/0.1)",color:"hsl(var(--primary))"},children:[e.jsx(we,{className:"h-3.5 w-3.5"})," AI-Powered Mock Interview ‚Ä¢ Questions Shuffled Each Time"]}),e.jsx(se,{speaking:!1,thinking:!1}),e.jsx("h1",{className:"text-3xl font-display font-bold mt-6 mb-2",children:"Ready for Your Interview?"}),e.jsx("p",{className:"text-muted-foreground",children:"Select your target role. Our AI interviewer will ask you 6 randomized questions and give you instant feedback."})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-8",children:qe.map((s,a)=>e.jsxs(t.button,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:a*.07},onClick:()=>g(s.id),className:`p-4 rounded-2xl border-2 text-left transition-all duration-200 ${l===s.id?"border-primary bg-primary/5 shadow-purple":"border-border glass-card hover:border-primary/40"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"font-semibold text-sm mb-1",children:s.id}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.desc}),l===s.id&&e.jsx(t.div,{initial:{scale:0},animate:{scale:1},className:"mt-2",children:e.jsx(U,{className:"h-4 w-4 text-primary"})})]},s.id))}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:e.jsxs(y,{size:"lg",className:"px-10 py-6 rounded-2xl text-base font-semibold bg-gradient-hero hover:opacity-90 shadow-glow",disabled:!l,onClick:ne,children:[e.jsx(_,{className:"h-5 w-5 mr-2"})," Start Interview ",e.jsx(Me,{className:"ml-1 h-5 w-5"})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-10 text-center",children:[{icon:"üîÄ",label:"Shuffled Questions",desc:"Different every time"},{icon:"ü§ñ",label:"AI Feedback",desc:"Instant improvement tips"},{icon:"üìä",label:"Full Report",desc:"Detailed score analysis"}].map(s=>e.jsxs("div",{className:"p-4 rounded-xl glass-card",children:[e.jsx("div",{className:"text-2xl mb-1",children:s.icon}),e.jsx("p",{className:"text-xs font-semibold",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]},s.label))})]}),me=i&&e.jsxs("div",{className:"max-w-3xl mx-auto pt-4",children:[e.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üéâ"}),e.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:"Interview Complete!"}),e.jsxs("p",{className:"text-muted-foreground",children:["Here's your detailed performance report as a ",e.jsx("span",{className:"font-semibold text-foreground",children:l})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-8 rounded-3xl glass-card shadow-purple mb-6 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-hero opacity-5"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"text-7xl font-display font-bold mb-1",style:{color:"hsl(var(--primary))"},children:i.avgScore}),e.jsx("div",{className:"text-2xl font-semibold mb-1",children:"/100"}),e.jsxs("div",{className:`text-xl font-bold mb-4 ${i.gradeColor}`,children:[i.grade," Performance"]}),e.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[i.avgScore>=70&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/10 text-green-600",children:"üåü Interview Ready"}),i.answered>=5&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:"üí™ Strong Completion"}),i.skipped===0&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-accent/10 text-accent",children:"‚úÖ No Skips"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[{label:"Answered",value:`${i.answered}/${i.total}`,icon:U,color:"text-green-500"},{label:"Skipped",value:i.skipped,icon:Ae,color:i.skipped>0?"text-yellow-500":"text-green-500"},{label:"Avg Time",value:`${i.avgTime}s`,icon:K,color:"text-accent"},{label:"Grammar",value:`${i.grammar}%`,icon:Ie,color:"text-primary"}].map((s,a)=>e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+a*.08},className:"p-4 rounded-2xl glass-card shadow-card text-center",children:[e.jsx(s.icon,{className:`h-5 w-5 ${s.color} mx-auto mb-2`}),e.jsx("p",{className:`text-2xl font-bold ${s.color}`,children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.label})]},s.label))}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl glass-card shadow-card mb-6",children:[e.jsxs("h3",{className:"font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4 text-primary"})," Skill Assessment"]}),e.jsx("div",{className:"space-y-4",children:[{label:"Overall Score",value:i.avgScore,color:"bg-primary"},{label:"Fluency",value:i.fluency,color:"bg-accent"},{label:"Confidence",value:i.confidence,color:"bg-green-500"},{label:"Grammar Accuracy",value:i.grammar,color:"bg-yellow-500"}].map(s=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1.5",children:[e.jsx("span",{className:"font-medium",children:s.label}),e.jsxs("span",{className:"font-bold",children:[s.value,"%"]})]}),e.jsx("div",{className:"h-2.5 rounded-full bg-muted overflow-hidden",children:e.jsx(t.div,{className:`h-full rounded-full ${s.color}`,initial:{width:0},animate:{width:`${s.value}%`},transition:{duration:1,delay:.5,ease:"easeOut"}})})]},s.label))})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-6",children:[e.jsxs("h3",{className:"font-display font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-accent"})," Question-by-Question Breakdown"]}),e.jsx("div",{className:"space-y-3",children:j.map((s,a)=>{var d;return e.jsx(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+a*.07},className:"p-4 rounded-xl glass-card shadow-card",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${s.skipped?"bg-yellow-500/10 text-yellow-600":"bg-green-500/10 text-green-600"}`,children:s.skipped?"‚è≠":`${((d=s.feedback)==null?void 0:d.score)??"‚úì"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium mb-1",children:["Q",a+1,": ",s.question]}),s.skipped?e.jsx("p",{className:"text-xs text-yellow-500 font-medium",children:`Skipped ‚Äî "I don't know"`}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:["Your answer: ",s.answer]}),s.feedback&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-green-500/8 border border-green-500/20",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("span",{className:"font-semibold text-green-600",children:"‚ú® Improved:"})," ",s.feedback.improved]})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium text-primary",children:"üí° Tip:"})," ",s.feedback.tips]})]})]})]}),e.jsxs("div",{className:"text-right text-xs text-muted-foreground flex-shrink-0",children:[e.jsx(K,{className:"h-3 w-3 inline mr-1"}),s.timeTaken,"s"]})]})},a)})})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"p-5 rounded-2xl glass-card shadow-card mb-8",children:[e.jsxs("h3",{className:"font-display font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-accent"})," Personalized Recommendations"]}),e.jsx("div",{className:"space-y-2",children:[i.avgScore<70&&"Practice the STAR method (Situation, Task, Action, Result) for behavioral questions.",i.skipped>1&&"Review common interview questions for your role to reduce blank answers.",i.grammar<75&&"Focus on sentence structure ‚Äî use our Grammar module in Courses.",i.avgTime>120&&"Try to keep answers between 60-90 seconds ‚Äî practice being concise.","Record yourself answering and watch it back to identify filler words."].filter(Boolean).map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-primary mt-0.5 flex-shrink-0",children:"‚Üí"}),e.jsx("span",{className:"text-muted-foreground",children:s})]},a))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(y,{onClick:ce,className:"rounded-xl bg-gradient-hero hover:opacity-90",children:[e.jsx(J,{className:"h-4 w-4 mr-2"})," Try Again"]}),e.jsx(y,{variant:"outline",onClick:()=>m("/dashboard"),className:"rounded-xl",children:"Back to Dashboard"}),e.jsxs(y,{variant:"outline",onClick:()=>m("/reports"),className:"rounded-xl",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"})," View All Reports"]})]})]}),ue=e.jsx("div",{className:"max-w-3xl mx-auto pt-2",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Q ",c+1,"/",x.length]}),e.jsx("div",{className:"flex gap-1.5 flex-1",children:x.map((s,a)=>e.jsx(t.div,{className:`h-2 flex-1 rounded-full transition-colors duration-500 ${a<c?"bg-green-500":a===c?"bg-primary":"bg-muted"}`,initial:a===c?{scaleX:0}:{},animate:{scaleX:1}},a))}),e.jsx("button",{onClick:()=>{var s;re(!N),N||(s=window.speechSynthesis)==null||s.cancel()},className:"text-muted-foreground hover:text-foreground transition-colors",children:N?e.jsx(Qe,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 rounded-3xl glass-card shadow-purple mb-6 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-hero opacity-60 rounded-t-3xl"}),e.jsx("div",{className:"mb-4",children:e.jsx(se,{speaking:ie,thinking:I})}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:[l," Interview"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>F(x[c]),className:"p-1.5 rounded-lg hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors",title:"Replay question",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:()=>ae(!A),className:`flex items-center gap-1.5 text-xs font-medium px-3 py-1.5 rounded-full transition-colors ${A?"bg-accent/20 text-accent border border-accent/30":"bg-muted text-muted-foreground"}`,children:[e.jsx(Re,{className:"h-3.5 w-3.5"})," ‡§π‡§ø‡§Ç‡§¶‡•Ä"]})]})]}),e.jsx(Z,{mode:"wait",children:e.jsx(t.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xl font-display font-semibold",children:x[c]},c)})]}),e.jsx(Z,{mode:"wait",children:p?e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",style:{background:"hsl(var(--primary)/0.08)",border:"1px solid hsl(var(--primary)/0.2)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-hero flex items-center justify-center text-white font-bold text-lg",children:p.score}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"AI Score"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to next question in 4s‚Ä¶"})]})]}),e.jsx(t.div,{className:"h-1.5 w-32 rounded-full bg-muted overflow-hidden",children:e.jsx(t.div,{className:"h-full bg-gradient-hero rounded-full",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:4,ease:"linear"}})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-2xl",style:{background:"hsl(var(--destructive)/0.06)",border:"1px solid hsl(var(--destructive)/0.2)"},children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",style:{color:"hsl(var(--destructive))"},children:"üìù Your Answer"}),e.jsx("p",{className:"text-sm leading-relaxed",children:p.original})]}),e.jsxs("div",{className:"p-5 rounded-2xl",style:{background:"hsl(152 60% 45% / 0.08)",border:"1px solid hsl(152 60% 45% / 0.25)"},children:[e.jsx("h4",{className:"text-sm font-semibold mb-2 text-green-600 dark:text-green-400",children:"‚ú® Improved Version"}),e.jsx("p",{className:"text-sm leading-relaxed",children:p.improved})]})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{background:"hsl(var(--primary)/0.06)",border:"1px solid hsl(var(--primary)/0.2)"},children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-primary",children:"üí° Tip:"})," ",p.tips]})}),A&&p.hindi&&e.jsx("div",{className:"p-4 rounded-xl",style:{background:"hsl(var(--accent)/0.08)",border:"1px solid hsl(var(--accent)/0.2)"},children:e.jsxs("p",{className:"text-sm",children:["üáÆüá≥ ",e.jsx("span",{className:"font-medium text-accent",children:"‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç:"})," ",p.hindi]})})]},"feedback"):e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(je,{placeholder:"Type your answer here, or use the microphone to speak...",value:h,onChange:s=>b(s.target.value),onKeyDown:s=>{s.key==="Enter"&&s.ctrlKey&&(s.preventDefault(),X())},className:"min-h-[160px] rounded-2xl text-base resize-none pr-4"}),h&&e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-muted-foreground",children:[h.split(" ").filter(Boolean).length," words"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[e.jsx(y,{variant:Q?"destructive":"outline",onClick:oe,className:"rounded-xl",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),e.jsx(t.span,{animate:{opacity:[1,.3,1]},transition:{duration:1,repeat:1/0},children:"Recording..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2"})," Speak Answer"]})}),e.jsx(y,{onClick:X,disabled:I||!h.trim(),className:"rounded-xl bg-gradient-hero hover:opacity-90 shadow-glow",children:I?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"})," Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"})," Submit Answer"]})}),e.jsxs(y,{variant:"ghost",onClick:le,disabled:I,className:"rounded-xl ml-auto text-muted-foreground hover:text-foreground",children:[e.jsx(De,{className:"h-4 w-4 mr-1"})," I don't know"]})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Ctrl+Enter to submit ‚Ä¢ Chrome recommended for voice recording"})]},"input")})]})}),xe=q?v?me:ue:de;return e.jsx(be,{title:"Mock Interview",children:e.jsx("div",{className:"pb-10",children:xe})})};export{ss as default};
